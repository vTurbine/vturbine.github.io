<!DOCTYPE html>
<html lang="be-BY">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> С.Т.А.Л.К.Е.Р.: Сектары і парталы | Mind shards</title>
  <meta name="description" content="Тут я збіраю ўсялякія &#39;кекі&#39; і &#39;лулзы&#39; якія мне трапіліся пад час працы над праектамі (гл. спасылкі ніжэй). Нататкі зроблены больш для сябе з мэтай структуравання і захавання знаходак, то бок не чакайце дасціплых лонгрыдаў з каляровымі выявамі. Котак не будзе таксама, але гэта не дакладна.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="С.Т.А.Л.К.Е.Р.: Сектары і парталы" />
<meta property="og:description" content="Тэорыя Калі пачнеце знаёміцца з тым як будуецца лакацыя ў гульне, то дакладна сутыкнёцеся з сектарамі і парталамі. Тэорыя дастаткова сталая і ёсць меркванне што дужа архаічная. Партальныя рэндэры (менавіта так гэта называецца) добра працуюць у закрытых прасторах &ndash; пакоях і калідорах, але калі рабіць на іх опэнворлд, то пачынаюцца праблемы. Іх мы маем таксама.
У агульным выпадку, не мае сэнсу маляваць усю геаметрыю адразу: трэба максімальна дакладна вызначыць тыя аб&rsquo;екты якія трапяць у кадр." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vturbine.github.io/posts/2021-02-03/post0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-03T16:50:54+00:00" />
<meta property="article:modified_time" content="2021-02-03T16:50:54+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="С.Т.А.Л.К.Е.Р.: Сектары і парталы"/>
<meta name="twitter:description" content="Тэорыя Калі пачнеце знаёміцца з тым як будуецца лакацыя ў гульне, то дакладна сутыкнёцеся з сектарамі і парталамі. Тэорыя дастаткова сталая і ёсць меркванне што дужа архаічная. Партальныя рэндэры (менавіта так гэта называецца) добра працуюць у закрытых прасторах &ndash; пакоях і калідорах, але калі рабіць на іх опэнворлд, то пачынаюцца праблемы. Іх мы маем таксама.
У агульным выпадку, не мае сэнсу маляваць усю геаметрыю адразу: трэба максімальна дакладна вызначыць тыя аб&rsquo;екты якія трапяць у кадр."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://vturbine.github.io/css/style-classic.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://vturbine.github.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Галоўная</a></li>
         
        <li><a href="/posts">Нататкі</a></li>
         
        <li><a href="/tags">Тэгі</a></li>
         
        <li><a href="/about">Пра вось гэта ўсё</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://vturbine.github.io/about/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://vturbine.github.io/posts/2021-02/post0/">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&text=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&is_video=false&description=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b&body=Check out this article: https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-stumbleupon " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-digg " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&name=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b&description=%d0%a2%d1%8d%d0%be%d1%80%d1%8b%d1%8f%20%d0%9a%d0%b0%d0%bb%d1%96%20%d0%bf%d0%b0%d1%87%d0%bd%d0%b5%d1%86%d0%b5%20%d0%b7%d0%bd%d0%b0%d1%91%d0%bc%d1%96%d1%86%d1%86%d0%b0%20%d0%b7%20%d1%82%d1%8b%d0%bc%20%d1%8f%d0%ba%20%d0%b1%d1%83%d0%b4%d1%83%d0%b5%d1%86%d1%86%d0%b0%20%d0%bb%d0%b0%d0%ba%d0%b0%d1%86%d1%8b%d1%8f%20%d1%9e%20%d0%b3%d1%83%d0%bb%d1%8c%d0%bd%d0%b5%2c%20%d1%82%d0%be%20%d0%b4%d0%b0%d0%ba%d0%bb%d0%b0%d0%b4%d0%bd%d0%b0%20%d1%81%d1%83%d1%82%d1%8b%d0%ba%d0%bd%d1%91%d1%86%d0%b5%d1%81%d1%8f%20%d0%b7%20%d1%81%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d0%b0%d0%bc%d1%96%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d0%b0%d0%bc%d1%96.%20%d0%a2%d1%8d%d0%be%d1%80%d1%8b%d1%8f%20%d0%b4%d0%b0%d1%81%d1%82%d0%b0%d1%82%d0%ba%d0%be%d0%b2%d0%b0%20%d1%81%d1%82%d0%b0%d0%bb%d0%b0%d1%8f%20%d1%96%20%d1%91%d1%81%d1%86%d1%8c%20%d0%bc%d0%b5%d1%80%d0%ba%d0%b2%d0%b0%d0%bd%d0%bd%d0%b5%20%d1%88%d1%82%d0%be%20%d0%b4%d1%83%d0%b6%d0%b0%20%d0%b0%d1%80%d1%85%d0%b0%d1%96%d1%87%d0%bd%d0%b0%d1%8f.%20%d0%9f%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d1%8f%20%d1%80%d1%8d%d0%bd%d0%b4%d1%8d%d1%80%d1%8b%20%28%d0%bc%d0%b5%d0%bd%d0%b0%d0%b2%d1%96%d1%82%d0%b0%20%d1%82%d0%b0%d0%ba%20%d0%b3%d1%8d%d1%82%d0%b0%20%d0%bd%d0%b0%d0%b7%d1%8b%d0%b2%d0%b0%d0%b5%d1%86%d1%86%d0%b0%29%20%d0%b4%d0%be%d0%b1%d1%80%d0%b0%20%d0%bf%d1%80%d0%b0%d1%86%d1%83%d1%8e%d1%86%d1%8c%20%d1%83%20%d0%b7%d0%b0%d0%ba%d1%80%d1%8b%d1%82%d1%8b%d1%85%20%d0%bf%d1%80%d0%b0%d1%81%d1%82%d0%be%d1%80%d0%b0%d1%85%20%26ndash%3b%20%d0%bf%d0%b0%d0%ba%d0%be%d1%8f%d1%85%20%d1%96%20%d0%ba%d0%b0%d0%bb%d1%96%d0%b4%d0%be%d1%80%d0%b0%d1%85%2c%20%d0%b0%d0%bb%d0%b5%20%d0%ba%d0%b0%d0%bb%d1%96%20%d1%80%d0%b0%d0%b1%d1%96%d1%86%d1%8c%20%d0%bd%d0%b0%20%d1%96%d1%85%20%d0%be%d0%bf%d1%8d%d0%bd%d0%b2%d0%be%d1%80%d0%bb%d0%b4%2c%20%d1%82%d0%be%20%d0%bf%d0%b0%d1%87%d1%8b%d0%bd%d0%b0%d1%8e%d1%86%d1%86%d0%b0%20%d0%bf%d1%80%d0%b0%d0%b1%d0%bb%d0%b5%d0%bc%d1%8b.%20%d0%86%d1%85%20%d0%bc%d1%8b%20%d0%bc%d0%b0%d0%b5%d0%bc%20%d1%82%d0%b0%d0%ba%d1%81%d0%b0%d0%bc%d0%b0.%0a%d0%a3%20%d0%b0%d0%b3%d1%83%d0%bb%d1%8c%d0%bd%d1%8b%d0%bc%20%d0%b2%d1%8b%d0%bf%d0%b0%d0%b4%d0%ba%d1%83%2c%20%d0%bd%d0%b5%20%d0%bc%d0%b0%d0%b5%20%d1%81%d1%8d%d0%bd%d1%81%d1%83%20%d0%bc%d0%b0%d0%bb%d1%8f%d0%b2%d0%b0%d1%86%d1%8c%20%d1%83%d1%81%d1%8e%20%d0%b3%d0%b5%d0%b0%d0%bc%d0%b5%d1%82%d1%80%d1%8b%d1%8e%20%d0%b0%d0%b4%d1%80%d0%b0%d0%b7%d1%83%3a%20%d1%82%d1%80%d1%8d%d0%b1%d0%b0%20%d0%bc%d0%b0%d0%ba%d1%81%d1%96%d0%bc%d0%b0%d0%bb%d1%8c%d0%bd%d0%b0%20%d0%b4%d0%b0%d0%ba%d0%bb%d0%b0%d0%b4%d0%bd%d0%b0%20%d0%b2%d1%8b%d0%b7%d0%bd%d0%b0%d1%87%d1%8b%d1%86%d1%8c%20%d1%82%d1%8b%d1%8f%20%d0%b0%d0%b1%26rsquo%3b%d0%b5%d0%ba%d1%82%d1%8b%20%d1%8f%d0%ba%d1%96%d1%8f%20%d1%82%d1%80%d0%b0%d0%bf%d1%8f%d1%86%d1%8c%20%d1%83%20%d0%ba%d0%b0%d0%b4%d1%80.">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&t=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#тэорыя">Тэорыя</a>
      <ul>
        <li><a href="#азначэнні">Азначэнні</a></li>
      </ul>
    </li>
    <li><a href="#рэчаіснасць">Рэчаіснасць</a></li>
    <li><a href="#тэхнічныя-падрабязнасці">Тэхнічныя падрабязнасці</a>
      <ul>
        <li><a href="#фармат-дадзеных">Фармат дадзеных</a></li>
        <li><a href="#загрузка">Загрузка</a></li>
        <li><a href="#вызначэнне-сектара">Вызначэнне сектара</a></li>
        <li><a href="#траверс-сектараў">Траверс сектараў</a></li>
        <li><a href="#збор-геаметрыі">Збор геаметрыі</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        С.Т.А.Л.К.Е.Р.: Сектары і парталы
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-02-03 16:50:54 &#43;0000 UTC" itemprop="datePublished">2021-02-03</time>
          
        </div>
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/xrrng" rel="tag">xrRNG</a>
            
        </div>
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <h2 id="тэорыя">Тэорыя</h2>
<p>Калі пачнеце знаёміцца з тым як будуецца лакацыя ў гульне, то дакладна сутыкнёцеся з сектарамі і парталамі. <a href="https://en.wikipedia.org/wiki/Portal_rendering">Тэорыя</a> дастаткова сталая і ёсць меркванне што дужа архаічная. Партальныя рэндэры (менавіта так гэта называецца) добра працуюць у закрытых прасторах &ndash; пакоях і калідорах, але калі рабіць на іх опэнворлд, то пачынаюцца праблемы. Іх мы маем таксама.</p>
<p>У агульным выпадку, не мае сэнсу маляваць усю геаметрыю адразу: трэба максімальна дакладна вызначыць тыя аб&rsquo;екты якія трапяць у кадр. Калі мы зможам классіфікаваць мешы па группам і вырашыць якая з іх зараз бачна, а якая не, то добра паскорым адмалёўку і зэканомім бэндвіз. Канешне дакладнасць залежыць ад памеру групы і ў ідэальным выпадку трэба працаваць на узроўні асабістай вяршыні. На практыцы мы не маем такой раскошы, таму часам у групе трапляецца геаметрыя якая можна патэнцыйна і не дадасці нічога да фінальный выявы. Такія алгарытмы маюць назву PVS (патэнцыйна бачныя мноствы) і нашы сектары-парталы як раз і ўяўляюць адзін з іх.</p>
<h3 id="азначэнні">Азначэнні</h3>
<p><strong>Сектар</strong> &ndash; гэта бокс з усялякай геаметрыяй і парталамі. Узровень канструіруецца з сектараў як з кубікаў лега, але можа цалкам уяўляць сабою адзін сектар.</p>
<p><strong>Партал</strong> &ndash; гэта &ldquo;акно&rdquo; у сектар. Можа быць любым палігонам.</p>
<p><img src="../sh00.png" alt="карабокс"></p>
<p>Лепш уявіць сабе, што сектар &ndash; гэта пакой, а парталы &ndash; дзверы і акенца. Праз парталы бачны іншыя сектары і гэты кейс трэба асобна апрацаваць пад час адмалёўкі.</p>
<h2 id="рэчаіснасць">Рэчаіснасць</h2>
<p>Узроўні сталкера пабудаваны так, што ўвесь &ldquo;аўтдор&rdquo; &ndash; гэта адзіны вялікі сектар, а кантэйнеры, будынкі, пакоі &ndash; гэта сектары паменш. Вось і атрымоўваецца, што стаіш ты такі на ўздымку, глядзіш удалячынь, а фпс паўзе ўніз. Напрыклад, так выглядае прастора на першай лакацыі:</p>
<p><img src="../sh01.png" alt="палуба"></p>
<p>Зямля, дрэвы, доўгая труба і кран &ndash; ўсё ў адным &ldquo;аўтдор&rdquo; сектары. Між іншым, б<em>о</em>льшая частка часу адмалёўкі марнуецца на гэтым.</p>
<p>Таксама існуюць пацешныя кейсы: калі статычны меш праходзіць праз партал, ствараецца асобны партал па контуру гэтага меша. Цалкам гэта норм, але дзякуючы адной недакладнасці ў кодзе траверса гэта дае цікавыя артэфакты:</p>
<p><img src="../sh02.png" alt="дзірка"></p>
<p><img src="../sh03.png" alt="сцяна"></p>
<h2 id="тэхнічныя-падрабязнасці">Тэхнічныя падрабязнасці</h2>
<h3 id="фармат-дадзеных">Фармат дадзеных</h3>
<p><img src="../sh04.png" alt="класы"></p>
<p>Пра партал усё зразумела: два сектары (уперадзе ды й ззаду), палігон, абмяжоўваючая сфера і плоскасць. /Не правяраў, але здаецца, што нармаль плоскасці супадае з напрамкам парталу &ndash; да &ldquo;face&rdquo; сектара./</p>
<p>З сектарам крыху складаней. Тут лепш па-асобку:</p>
<ul>
<li><code>root</code> &ndash; звычайна іерархічны візуал, стартавы меш. Менавіта з яго пачынаецца абыход статычнай геаметрыі</li>
<li><code>portals</code> &ndash; спіс парталаў сектара</li>
<li><code>r_frustums</code> &ndash; спіс фрустумаў. Зразумела будзе ў разделе пра траверс, але чаму спіс пазначу зараз: існуе імавернасць трапіць з гэтага сектара ў яго самога назад (геаметрычна я сябе гэта не ўяўляю), таму ў сектары будзе існаваць некалькі фрустумаў</li>
<li><code>r_scissors</code> &ndash; спіс нажніцаў. Выкарыстоўваюцца для адсячэння крыніц святла. Таксама можа быць некалькі (глядзі ніжэй)</li>
<li><code>scissors_merged</code> &ndash; аб&rsquo;яднаны квад нажніц з <code>r_scissors</code>. Мёртвы код, не выкарыстоўваецца.</li>
</ul>
<h3 id="загрузка">Загрузка</h3>
<p>І сектары і парталы жывуць у асноўным <code>level</code> файле. Чанкі выглядаюць проста:</p>
<p><img src="../sh05.png" alt="чанкі"></p>
<ul>
<li><code>IDv</code> &ndash; індэкс <code>root</code>-геаметрыі сектара (загружана раней)</li>
<li><code>IDp</code> &ndash; індэксы парталаў з чанка парталаў</li>
<li><code>b_portal</code> &ndash; структура серыялізаванага партала</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="font-weight:bold">struct</span> <span style="color:#458;font-weight:bold">b_portal</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	u16 		face; <span style="color:#998;font-style:italic">// сектар уперадзе
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	u16 		back; <span style="color:#998;font-style:italic">// сектар ззаду
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	Fvector[<span style="color:#099">6</span>] 	poly; <span style="color:#998;font-style:italic">// форма паратала
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="вызначэнне-сектара">Вызначэнне сектара</h3>
<p>Адбываецца у <code>CRender::Calculate</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="font-weight:bold">if</span> (<span style="font-weight:bold">!</span>vLastCameraPos.similar(CameraPosition, EPS_S))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    CSector<span style="font-weight:bold">*</span> pSector <span style="font-weight:bold">=</span> detectSector(CameraPosition);
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">if</span> (pSector)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">if</span> (pSector <span style="font-weight:bold">!=</span> pLastSector)
</span></span><span style="display:flex;"><span>        	g_pGamePersistent<span style="font-weight:bold">-&gt;</span>OnSectorChanged(translateSector(pSector));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>        pSector <span style="font-weight:bold">=</span> pLastSector;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pLastSector <span style="font-weight:bold">=</span> pSector;
</span></span><span style="display:flex;"><span>    vLastCameraPos.set(CameraPosition);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Кожны фрэйм глядзім як змянілася пазіцыя камеры, каб пачаць турбавацца ці не трапілі мы ў наступны сектар. Калі так, то трэба вызначыць новы сектар і паведаміць пра гэта іншым падсістэмам. /Апошнім, на самой справе, скарыстаецца толькі код аднаўлення мінімапы у сеткавай гульне./</p>
<p>Эпсілан можна зрабіць і менш, так як пакуль стаіш на месцы камера рухаецца ўверх-ніз на велічыню дастатковую, каб трыгернуць пералік сектара (але сектар так і застаецца тым жа).</p>
<p>Што датычыцца <code>detectSector</code>, то тут мы робім два рэйкаста:</p>
<ul>
<li>
<p>сярод парталаў</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Sectors_xrc.ray_query(PortalsModel, P, dir, <span style="color:#099">500.0f</span>);
</span></span><span style="display:flex;"><span><span style="font-weight:bold">if</span> (Sectors_xrc.r_count())
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    CDB<span style="font-weight:bold">::</span>RESULT<span style="font-weight:bold">*</span> RP1 <span style="font-weight:bold">=</span> Sectors_xrc.r_begin();
</span></span><span style="display:flex;"><span>    id1 <span style="font-weight:bold">=</span> RP1<span style="font-weight:bold">-&gt;</span>id;
</span></span><span style="display:flex;"><span>    range1 <span style="font-weight:bold">=</span> RP1<span style="font-weight:bold">-&gt;</span>range;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>сярод статычнай геаметрыі</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Sectors_xrc.ray_query(ObjectSpace.GetStaticModel(), P, dir, <span style="color:#099">500.0f</span>);
</span></span><span style="display:flex;"><span><span style="font-weight:bold">if</span> (Sectors_xrc.r_count())
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    CDB<span style="font-weight:bold">::</span>RESULT<span style="font-weight:bold">*</span> RP2 <span style="font-weight:bold">=</span> Sectors_xrc.r_begin();
</span></span><span style="display:flex;"><span>    id2 <span style="font-weight:bold">=</span> RP2<span style="font-weight:bold">-&gt;</span>id;
</span></span><span style="display:flex;"><span>    range2 <span style="font-weight:bold">=</span> RP2<span style="font-weight:bold">-&gt;</span>range;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>Хто бліжэй да камеры, з таго нумар сектара і бярэцца.</p>
<h3 id="траверс-сектараў">Траверс сектараў</h3>
<p>Цяпер, калі мы маем сектар, то лёгка можам атрымаць усю яго статычную геаметрыю рэкурсійна</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>PortalTraverser.traverse(Sector, ViewBase, CameraPosition, FullTransform,
</span></span><span style="display:flex;"><span>	CPortalTraverser<span style="font-weight:bold">::</span>VQ_HOM
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">+</span> CPortalTraverser<span style="font-weight:bold">::</span>VQ_SSA
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">+</span> CPortalTraverser<span style="font-weight:bold">::</span>VQ_FADE);
</span></span></code></pre></td></tr></table>
</div>
</div><p>Для гэтага існуе асобны аб&rsquo;ект <code>PortalTraverser</code>. Мы пачынаем са стартавага сектара, фрустума, пазіцыі камеры ў свеце, агульнай VP трансфармацыі і флагаў: HOM - правяраць таксама праз HOM, SSA - адбрасваць маленькія парталы і FADE - будаваць ліст &ldquo;зацямнённых&rdquo; парталаў.</p>
<p>Калі прайсціся па крокам, то алгарытм выглядае проста:</p>
<ol>
<li>Захоўваем бягучы сектар. Ён нам патрэбны 100%. Таксама дадаем у яго фрустум і нажніцы (у <code>r_frustums</code> і  <code>r_scissors</code> адпаведна)</li>
<li>Абыходзім усе парталы гэтага сектара. Для кожнага партала:
<ol>
<li>Вызначаем суседні сектар (той, які па-за парталам) і глядзім:
<ol>
<li>Ці не выходзіць ён у гэтый жа сектар?</li>
<li>Ці не выходзіць ён у сектар з якога мы пачалі абход?</li>
</ol>
</li>
<li>Вяртаемся да партала і правяраем ці пападае ён у фрустум. Тут робіцца чэк сферы партала <code>S</code></li>
<li><em>SSA</em>: Ці дастатковая ў партала плошча? Параўноўваецца з <code>r__ssaDISCARD</code>
<ol>
<li><em>FADE</em>: Калі дастатковая, але менш за <code>r__ssaLOD_A</code>, то лічым гэты партал згасаючым</li>
<li>Калі нават менш за <code>r__ssaLOD_B</code>, то гэта дужа мала. Адкідваем</li>
</ol>
</li>
<li>Адсякаем палігон партала па фрустуму. Калі нічога не засталося &ndash; выходзім</li>
<li><em>SCISSOR</em>: Будуем бокс нажніц па палігону партала у праекцыйнай прасторы
<ol>
<li><em>HOM</em>: Калі яго глыбіня дужа маленькая, на усялякі выпадак правяраем HOM для палігона. Не трапіў &ndash; выходзім</li>
<li>Валідацыя бокса</li>
<li><em>HOM</em>: зноўку HOM, але для бокса нажніц</li>
</ol>
</li>
<li><em>HOM</em>: Чэкаем палігон праз HOM</li>
</ol>
</li>
<li>Будуем новы фрустум з улікам парталу і пераходзім да наступнага сектара</li>
</ol>
<p>Калі абыход скончаны, для ўсіх трапіўшых нам сектарам &ldquo;склеіваем&rdquo; боксы нажніц. Падрабязнасцей пра нажніцы не будзе, так як усё роўна гэты код больш не выкарыстоўваецца. Задумка была адсякаць крыніцы святла праз scissors test відэакарты.</p>
<h3 id="збор-геаметрыі">Збор геаметрыі</h3>
<p>Скончваюцца гэтыя дажынкі зборам усёй статычнай геаметрыі, якая знаходзіцца ва ўсіх сектарах і трапляе ва ўсе іх фрустумы.</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> s_it <span style="font-weight:bold">=</span> <span style="color:#099">0</span>; s_it <span style="font-weight:bold">&lt;</span> PortalTraverser.r_sectors.size(); s_it<span style="font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    CSector<span style="font-weight:bold">*</span> sector <span style="font-weight:bold">=</span> PortalTraverser.r_sectors[s_it];
</span></span><span style="display:flex;"><span>    dxRender_Visual<span style="font-weight:bold">*</span> root <span style="font-weight:bold">=</span> sector<span style="font-weight:bold">-&gt;</span>root();
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">for</span> (u32 v_it <span style="font-weight:bold">=</span> <span style="color:#099">0</span>; v_it <span style="font-weight:bold">&lt;</span> sector<span style="font-weight:bold">-&gt;</span>r_frustums.size(); v_it<span style="font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    	add_Geometry(root, sector<span style="font-weight:bold">-&gt;</span>r_frustums[v_it]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Але пра гэта ўжо потым.</p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Галоўная</a></li>
         
          <li><a href="/posts">Нататкі</a></li>
         
          <li><a href="/tags">Тэгі</a></li>
         
          <li><a href="/about">Пра вось гэта ўсё</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#тэорыя">Тэорыя</a>
      <ul>
        <li><a href="#азначэнні">Азначэнні</a></li>
      </ul>
    </li>
    <li><a href="#рэчаіснасць">Рэчаіснасць</a></li>
    <li><a href="#тэхнічныя-падрабязнасці">Тэхнічныя падрабязнасці</a>
      <ul>
        <li><a href="#фармат-дадзеных">Фармат дадзеных</a></li>
        <li><a href="#загрузка">Загрузка</a></li>
        <li><a href="#вызначэнне-сектара">Вызначэнне сектара</a></li>
        <li><a href="#траверс-сектараў">Траверс сектараў</a></li>
        <li><a href="#збор-геаметрыі">Збор геаметрыі</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&text=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&is_video=false&description=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b&body=Check out this article: https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&title=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-digg fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&name=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b&description=%d0%a2%d1%8d%d0%be%d1%80%d1%8b%d1%8f%20%d0%9a%d0%b0%d0%bb%d1%96%20%d0%bf%d0%b0%d1%87%d0%bd%d0%b5%d1%86%d0%b5%20%d0%b7%d0%bd%d0%b0%d1%91%d0%bc%d1%96%d1%86%d1%86%d0%b0%20%d0%b7%20%d1%82%d1%8b%d0%bc%20%d1%8f%d0%ba%20%d0%b1%d1%83%d0%b4%d1%83%d0%b5%d1%86%d1%86%d0%b0%20%d0%bb%d0%b0%d0%ba%d0%b0%d1%86%d1%8b%d1%8f%20%d1%9e%20%d0%b3%d1%83%d0%bb%d1%8c%d0%bd%d0%b5%2c%20%d1%82%d0%be%20%d0%b4%d0%b0%d0%ba%d0%bb%d0%b0%d0%b4%d0%bd%d0%b0%20%d1%81%d1%83%d1%82%d1%8b%d0%ba%d0%bd%d1%91%d1%86%d0%b5%d1%81%d1%8f%20%d0%b7%20%d1%81%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d0%b0%d0%bc%d1%96%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d0%b0%d0%bc%d1%96.%20%d0%a2%d1%8d%d0%be%d1%80%d1%8b%d1%8f%20%d0%b4%d0%b0%d1%81%d1%82%d0%b0%d1%82%d0%ba%d0%be%d0%b2%d0%b0%20%d1%81%d1%82%d0%b0%d0%bb%d0%b0%d1%8f%20%d1%96%20%d1%91%d1%81%d1%86%d1%8c%20%d0%bc%d0%b5%d1%80%d0%ba%d0%b2%d0%b0%d0%bd%d0%bd%d0%b5%20%d1%88%d1%82%d0%be%20%d0%b4%d1%83%d0%b6%d0%b0%20%d0%b0%d1%80%d1%85%d0%b0%d1%96%d1%87%d0%bd%d0%b0%d1%8f.%20%d0%9f%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d1%8f%20%d1%80%d1%8d%d0%bd%d0%b4%d1%8d%d1%80%d1%8b%20%28%d0%bc%d0%b5%d0%bd%d0%b0%d0%b2%d1%96%d1%82%d0%b0%20%d1%82%d0%b0%d0%ba%20%d0%b3%d1%8d%d1%82%d0%b0%20%d0%bd%d0%b0%d0%b7%d1%8b%d0%b2%d0%b0%d0%b5%d1%86%d1%86%d0%b0%29%20%d0%b4%d0%be%d0%b1%d1%80%d0%b0%20%d0%bf%d1%80%d0%b0%d1%86%d1%83%d1%8e%d1%86%d1%8c%20%d1%83%20%d0%b7%d0%b0%d0%ba%d1%80%d1%8b%d1%82%d1%8b%d1%85%20%d0%bf%d1%80%d0%b0%d1%81%d1%82%d0%be%d1%80%d0%b0%d1%85%20%26ndash%3b%20%d0%bf%d0%b0%d0%ba%d0%be%d1%8f%d1%85%20%d1%96%20%d0%ba%d0%b0%d0%bb%d1%96%d0%b4%d0%be%d1%80%d0%b0%d1%85%2c%20%d0%b0%d0%bb%d0%b5%20%d0%ba%d0%b0%d0%bb%d1%96%20%d1%80%d0%b0%d0%b1%d1%96%d1%86%d1%8c%20%d0%bd%d0%b0%20%d1%96%d1%85%20%d0%be%d0%bf%d1%8d%d0%bd%d0%b2%d0%be%d1%80%d0%bb%d0%b4%2c%20%d1%82%d0%be%20%d0%bf%d0%b0%d1%87%d1%8b%d0%bd%d0%b0%d1%8e%d1%86%d1%86%d0%b0%20%d0%bf%d1%80%d0%b0%d0%b1%d0%bb%d0%b5%d0%bc%d1%8b.%20%d0%86%d1%85%20%d0%bc%d1%8b%20%d0%bc%d0%b0%d0%b5%d0%bc%20%d1%82%d0%b0%d0%ba%d1%81%d0%b0%d0%bc%d0%b0.%0a%d0%a3%20%d0%b0%d0%b3%d1%83%d0%bb%d1%8c%d0%bd%d1%8b%d0%bc%20%d0%b2%d1%8b%d0%bf%d0%b0%d0%b4%d0%ba%d1%83%2c%20%d0%bd%d0%b5%20%d0%bc%d0%b0%d0%b5%20%d1%81%d1%8d%d0%bd%d1%81%d1%83%20%d0%bc%d0%b0%d0%bb%d1%8f%d0%b2%d0%b0%d1%86%d1%8c%20%d1%83%d1%81%d1%8e%20%d0%b3%d0%b5%d0%b0%d0%bc%d0%b5%d1%82%d1%80%d1%8b%d1%8e%20%d0%b0%d0%b4%d1%80%d0%b0%d0%b7%d1%83%3a%20%d1%82%d1%80%d1%8d%d0%b1%d0%b0%20%d0%bc%d0%b0%d0%ba%d1%81%d1%96%d0%bc%d0%b0%d0%bb%d1%8c%d0%bd%d0%b0%20%d0%b4%d0%b0%d0%ba%d0%bb%d0%b0%d0%b4%d0%bd%d0%b0%20%d0%b2%d1%8b%d0%b7%d0%bd%d0%b0%d1%87%d1%8b%d1%86%d1%8c%20%d1%82%d1%8b%d1%8f%20%d0%b0%d0%b1%26rsquo%3b%d0%b5%d0%ba%d1%82%d1%8b%20%d1%8f%d0%ba%d1%96%d1%8f%20%d1%82%d1%80%d0%b0%d0%bf%d1%8f%d1%86%d1%8c%20%d1%83%20%d0%ba%d0%b0%d0%b4%d1%80.">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fvturbine.github.io%2fposts%2f2021-02-03%2fpost0%2f&t=%d0%a1.%d0%a2.%d0%90.%d0%9b.%d0%9a.%d0%95.%d0%a0.%3a%20%d0%a1%d0%b5%d0%ba%d1%82%d0%b0%d1%80%d1%8b%20%d1%96%20%d0%bf%d0%b0%d1%80%d1%82%d0%b0%d0%bb%d1%8b">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  vTurbine / monkeyWzr 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Галоўная</a></li>
         
        <li><a href="/posts">Нататкі</a></li>
         
        <li><a href="/tags">Тэгі</a></li>
         
        <li><a href="/about">Пра вось гэта ўсё</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>



</html>
